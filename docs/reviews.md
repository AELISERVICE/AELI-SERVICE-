# â­ API Avis - Documentation ComplÃ¨te

Documentation dÃ©taillÃ©e des endpoints de gestion des avis clients.

## Base URL
```
/api/reviews
```

---

## ğŸ“ SystÃ¨me d'Avis

### Principe
Les clients authentifiÃ©s peuvent laisser des avis sur les prestataires. Un avis comprend une note (1-5) et un commentaire optionnel.

### RÃ¨gles mÃ©tier
- **1 avis par client par prestataire** (modifiable)
- Note entre **1 et 5 Ã©toiles**
- Commentaire **max 1000 caractÃ¨res**
- La note moyenne du prestataire est **recalculÃ©e automatiquement**

---

## ğŸŒ 1. ROUTES PUBLIQUES

### `GET /provider/:providerId` - Avis d'un prestataire

**Description :**  
RÃ©cupÃ¨re tous les avis visibles d'un prestataire.

**Ce qu'il fait :**
- Retourne les avis avec `isVisible = true`
- Inclut les informations de l'auteur (prÃ©nom uniquement pour la confidentialitÃ©)
- Pagination cÃ´tÃ© serveur

**ParamÃ¨tres query :**
| Param | Type | Description |
|-------|------|-------------|
| `page` | int | NumÃ©ro de page |
| `limit` | int | Ã‰lÃ©ments par page |

**RÃ©ponse 200 :**
```json
{
  "success": true,
  "reviews": [
    {
      "id": "uuid",
      "rating": 5,
      "comment": "Excellent service ! Marie est trÃ¨s professionnelle et Ã  l'Ã©coute.",
      "createdAt": "2026-01-10T14:30:00Z",
      "user": {
        "firstName": "Fatou",
        "profilePhoto": "url"  // Optionnel
      }
    },
    {
      "id": "uuid",
      "rating": 4,
      "comment": "Bon travail, je recommande.",
      "createdAt": "2026-01-05T10:00:00Z",
      "user": {
        "firstName": "Aminata"
      }
    }
  ],
  "pagination": {
    "currentPage": 1,
    "totalPages": 3,
    "totalItems": 25
  },
  "summary": {
    "averageRating": 4.6,
    "totalReviews": 25,
    "distribution": {
      "5": 15,
      "4": 7,
      "3": 2,
      "2": 1,
      "1": 0
    }
  }
}
```

**Workflow frontend - Affichage :**
```javascript
// Composant distribution
const RatingDistribution = ({ distribution, total }) => (
  <div>
    {[5, 4, 3, 2, 1].map(star => (
      <div key={star}>
        <span>{'â­'.repeat(star)}</span>
        <progress value={distribution[star]} max={total} />
        <span>{distribution[star]}</span>
      </div>
    ))}
  </div>
);
```

---

## ğŸ”’ 2. ROUTES AUTHENTIFIÃ‰ES

### `POST /` - CrÃ©er un avis

**ğŸ”’ Authentification requise**

**Description :**  
Permet Ã  un client de laisser un avis sur un prestataire.

**Ce qu'il fait :**
1. VÃ©rifie que l'utilisateur n'a pas dÃ©jÃ  laissÃ© d'avis
2. VÃ©rifie que l'utilisateur n'est pas le prestataire lui-mÃªme
3. CrÃ©e l'avis avec `isVisible = true`
4. **Recalcule automatiquement** la note moyenne du prestataire
5. Envoie une notification au prestataire (optionnel)

**Body :**
```json
{
  "providerId": "uuid",
  "rating": 5,
  "comment": "Excellent service ! Marie est trÃ¨s professionnelle."
}
```

**Validation :**
| Champ | Requis | RÃ¨gles |
|-------|--------|--------|
| `providerId` | âœ… | UUID valide |
| `rating` | âœ… | Entier entre 1 et 5 |
| `comment` | âŒ | Max 1000 caractÃ¨res |

**RÃ©ponse 201 :**
```json
{
  "success": true,
  "message": "Avis ajoutÃ© avec succÃ¨s",
  "review": {
    "id": "uuid",
    "rating": 5,
    "comment": "Excellent service !...",
    "createdAt": "2026-01-15T19:30:00Z"
  },
  "provider": {
    "id": "uuid",
    "averageRating": 4.7,  // Nouvelle moyenne
    "totalReviews": 26
  }
}
```

**Erreurs possibles :**
| Code | Message | Cause |
|------|---------|-------|
| 400 | Note invalide | rating < 1 ou > 5 |
| 400 | Avis dÃ©jÃ  existant | 1 avis par prestataire |
| 400 | Cannot review yourself | PropriÃ©taire du profil |
| 404 | Prestataire non trouvÃ© | ID invalide |

---

### `PUT /:id` - Modifier un avis

**ğŸ”’ Authentification requise** | **Auteur de l'avis uniquement**

**Description :**  
Permet de modifier son propre avis.

**Ce qu'il fait :**
1. VÃ©rifie que l'utilisateur est l'auteur
2. Met Ã  jour les champs modifiÃ©s
3. **Recalcule** la note moyenne du prestataire

**Body :**
```json
{
  "rating": 4,
  "comment": "Mise Ã  jour : toujours aussi bien !"
}
```

**RÃ©ponse 200 :**
```json
{
  "success": true,
  "message": "Avis modifiÃ© avec succÃ¨s",
  "review": {
    "id": "uuid",
    "rating": 4,
    "comment": "Mise Ã  jour : toujours aussi bien !",
    "updatedAt": "2026-01-15T20:00:00Z"
  }
}
```

---

### `DELETE /:id` - Supprimer un avis

**ğŸ”’ Authentification requise** | **Auteur ou Admin**

**Description :**  
Supprime un avis de maniÃ¨re permanente.

**Ce qu'il fait :**
1. VÃ©rifie que l'utilisateur est l'auteur OU admin
2. Supprime l'avis
3. **Recalcule** la note moyenne du prestataire

**RÃ©ponse 200 :**
```json
{
  "success": true,
  "message": "Avis supprimÃ© avec succÃ¨s"
}
```

---

## ğŸ“Š Calcul de la Note Moyenne

### Formule
```
averageRating = SUM(rating) / COUNT(reviews) oÃ¹ isVisible = true
```

### Recalcul automatique
La note est recalculÃ©e Ã  chaque :
- CrÃ©ation d'un avis
- Modification d'un avis
- Suppression d'un avis
- ModÃ©ration (masquer/afficher par admin)

### Exemple
```
Avis existants : [5, 5, 4, 4, 5]
Moyenne = (5 + 5 + 4 + 4 + 5) / 5 = 4.6

Nouvel avis : 3
Nouvelle moyenne = (5 + 5 + 4 + 4 + 5 + 3) / 6 = 4.33
```

---

## ğŸ¨ Composants Frontend SuggÃ©rÃ©s

### Formulaire d'avis
```html
<form id="review-form">
  <h3>Laisser un avis</h3>
  
  <!-- SÃ©lecteur d'Ã©toiles -->
  <div class="star-rating">
    <input type="radio" name="rating" value="5" id="star5">
    <label for="star5">â­â­â­â­â­</label>
    <!-- ... autres Ã©toiles ... -->
  </div>
  
  <!-- Commentaire (optionnel) -->
  <textarea 
    name="comment" 
    placeholder="Partagez votre expÃ©rience (optionnel)"
    maxlength="1000"
  ></textarea>
  <span class="counter">0/1000</span>
  
  <button type="submit">Publier mon avis</button>
</form>
```

### Affichage d'un avis
```javascript
const ReviewCard = ({ review }) => (
  <div className="review-card">
    <div className="review-header">
      <img src={review.user.profilePhoto || defaultAvatar} />
      <span>{review.user.firstName}</span>
      <span className="stars">{'â­'.repeat(review.rating)}</span>
      <span className="date">{formatDate(review.createdAt)}</span>
    </div>
    <p className="comment">{review.comment}</p>
  </div>
);
```

### RÃ©sumÃ© des avis
```javascript
const ReviewSummary = ({ summary }) => (
  <div className="review-summary">
    <div className="average">
      <span className="number">{summary.averageRating.toFixed(1)}</span>
      <span className="stars">â­â­â­â­â­</span>
      <span className="count">{summary.totalReviews} avis</span>
    </div>
    <RatingDistribution 
      distribution={summary.distribution} 
      total={summary.totalReviews} 
    />
  </div>
);
```

---

## ğŸ”„ Workflow Complet

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CYCLE DE VIE D'UN AVIS                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Client visite profil prestataire
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ GET /reviews/provider/:providerId   â”‚
  â”‚ â†’ Affiche les avis existants        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
            [Client authentifiÃ© ?]
                â•±            â•²
              Non            Oui
              â”‚               â”‚
              â–¼               â–¼
      Afficher bouton    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      "Se connecter      â”‚ POST /reviews   â”‚
       pour noter"       â”‚ â†’ CrÃ©er l'avis  â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ Recalcul auto   â”‚
                         â”‚ averageRating   â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ Affichage immÃ©diat
                         â”‚ isVisible = true â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  [ModÃ©ration Admin]
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ PUT /admin/reviews/:id/visibility   â”‚
  â”‚ â†’ isVisible = false                 â”‚
  â”‚ â†’ Recalcul averageRating            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš¨ Codes d'erreur

| Code | Situation |
|------|-----------|
| 400 | DonnÃ©es invalides, avis dÃ©jÃ  existant |
| 401 | Non authentifiÃ© |
| 403 | Non autorisÃ© (pas l'auteur) |
| 404 | Avis/Prestataire non trouvÃ© |

---

## ğŸ”„ WORKFLOWS VISUELS ADDITIONNELS

### Formulaire d'Avis (Client)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LAISSER UN AVIS                               â”‚
â”‚                    POST /api/reviews                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Client authentifiÃ©] Page du prestataire
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â­ Laisser un avis pour Salon Marie                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  Votre note:                                                â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  â˜† â˜† â˜† â˜† â˜†   â† Cliquez pour noter                         â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  â˜… â˜… â˜… â˜… â˜…   â† 5 Ã©toiles sÃ©lectionnÃ©es                     â”‚â”‚
â”‚  â”‚  "Excellent !"                                              â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  Votre commentaire (optionnel):                             â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚  â”‚  â”‚ Marie est trÃ¨s professionnelle et Ã  l'Ã©coute.       â”‚   â”‚â”‚
â”‚  â”‚  â”‚ Le rÃ©sultat est exactement ce que je voulais !      â”‚   â”‚â”‚
â”‚  â”‚  â”‚ Je recommande vivement. â¤ï¸                          â”‚   â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚  â”‚  135/1000 caractÃ¨res                                        â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  [Publier mon avis]                                         â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
POST /api/reviews
{
  providerId: "uuid",
  rating: 5,
  comment: "Marie est trÃ¨s professionnelle..."
}
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TRAITEMENT BACKEND                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. VÃ©rification: user â‰  provider                         â”‚  â”‚
â”‚  â”‚ 2. VÃ©rification: pas d'avis existant                     â”‚  â”‚
â”‚  â”‚ 3. CrÃ©ation Review (isVisible: true)                     â”‚  â”‚
â”‚  â”‚ 4. Recalcul averageRating du provider                    â”‚  â”‚
â”‚  â”‚    (5+5+4+4+5+5) / 6 = 4.67 â†’ 4.7                        â”‚  â”‚
â”‚  â”‚ 5. Update provider.totalReviews = 26                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Avis publiÃ© !                                                â”‚
â”‚                                                                  â”‚
â”‚  Merci pour votre avis sur Salon Marie !                        â”‚
â”‚  Votre commentaire aide d'autres clients Ã  faire leur choix.    â”‚
â”‚                                                                  â”‚
â”‚  [Voir mon avis]  [Retour au profil]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Section Avis sur Profil Prestataire
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SECTION AVIS                                  â”‚
â”‚                    GET /api/reviews/provider/:id                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â­ Avis clients (25)                                           â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                              â”‚ â”‚                            â”‚â”‚
â”‚  â”‚    â­â­â­â­â­                â”‚ â”‚ Distribution des notes:    â”‚â”‚
â”‚  â”‚        4.8                   â”‚ â”‚                            â”‚â”‚
â”‚  â”‚    sur 25 avis               â”‚ â”‚ â­â­â­â­â­ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 15  â”‚â”‚
â”‚  â”‚                              â”‚ â”‚ â­â­â­â­   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     7   â”‚â”‚
â”‚  â”‚  [Laisser un avis]           â”‚ â”‚ â­â­â­     â–ˆâ–ˆ           2   â”‚â”‚
â”‚  â”‚                              â”‚ â”‚ â­â­       â–ˆ            1   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â­                      0   â”‚â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [ğŸ‘¤] Fatou                    â­â­â­â­â­     Il y a 5 jours â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚ Marie est trÃ¨s professionnelle et Ã  l'Ã©coute.              â”‚â”‚
â”‚  â”‚ Le rÃ©sultat est exactement ce que je voulais !             â”‚â”‚
â”‚  â”‚ Je recommande vivement. â¤ï¸                                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [ğŸ‘¤] Aminata                  â­â­â­â­       Il y a 2 sem.  â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚ Bon travail, je recommande.                                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [ğŸ‘¤] Jean                     â­â­â­â­â­     Il y a 1 mois  â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚ Superbe expÃ©rience ! Je reviendrai Ã  coup sÃ»r.             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  [Voir plus d'avis â†’]                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Modification d'Avis
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MODIFIER MON AVIS                             â”‚
â”‚                    PUT /api/reviews/:id                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Client] Page "Mes avis" ou profil prestataire
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœï¸ Modifier mon avis sur Salon Marie                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  Ma note actuelle: â˜… â˜… â˜… â˜… â˜…                               â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  Nouvelle note:    â˜… â˜… â˜… â˜… â˜†  (clic sur 4Ã¨me Ã©toile)       â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  Mon commentaire:                                           â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚  â”‚  â”‚ Mise Ã  jour aprÃ¨s 2Ã¨me visite :                      â”‚   â”‚â”‚
â”‚  â”‚  â”‚ Toujours aussi bien, mais un peu d'attente           â”‚   â”‚â”‚
â”‚  â”‚  â”‚ cette fois-ci. Je garde 4 Ã©toiles.                   â”‚   â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  [Sauvegarder]  [Annuler]  [Supprimer mon avis]             â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
PUT /api/reviews/:id
{
  rating: 4,
  comment: "Mise Ã  jour aprÃ¨s 2Ã¨me visite..."
}
    â”‚
    â”œâ”€â”€ VÃ©rification: user = auteur de l'avis
    â”œâ”€â”€ Update rating et comment
    â””â”€â”€ Recalcul averageRating du provider
        (5+5+4+4+5+4) / 6 = 4.5
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Avis modifiÃ© !                                               â”‚
â”‚                                                                  â”‚
â”‚  Votre avis a Ã©tÃ© mis Ã  jour.                                   â”‚
â”‚  La nouvelle note moyenne est 4.5 â­                            â”‚
â”‚                                                                  â”‚
â”‚  [Voir mon avis]                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ModÃ©ration Admin
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MODÃ‰RATION DES AVIS (Admin)                   â”‚
â”‚                    PUT /api/admin/reviews/:id/visibility         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Admin] Dashboard modÃ©ration
    â”‚
    â–¼
GET /api/admin/reviews
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›¡ï¸ ModÃ©ration des avis                                        â”‚
â”‚                                                                  â”‚
â”‚  Filtres: [Tous â–¼] [SignalÃ©s â–¼] [Cette semaine â–¼]              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âš ï¸ SIGNALÃ‰                                                  â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚  â”‚ â”‚ Anonyme â†’ Traiteur Fatou        â­             Hier   â”‚   â”‚â”‚
â”‚  â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚â”‚
â”‚  â”‚ â”‚ "Nul Ã  chier, arnaque totale !!! ğŸ’©ğŸ’©ğŸ’©"               â”‚   â”‚â”‚
â”‚  â”‚ â”‚                                                       â”‚   â”‚â”‚
â”‚  â”‚ â”‚ ğŸš© Signalements: 3                                     â”‚   â”‚â”‚
â”‚  â”‚ â”‚ Raisons: Langage inappropriÃ©, Injure                  â”‚   â”‚â”‚
â”‚  â”‚ â”‚                                                       â”‚   â”‚â”‚
â”‚  â”‚ â”‚ [âœ… Laisser visible] [ğŸš« Masquer] [ğŸ—‘ï¸ Supprimer]     â”‚   â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  Clic [ğŸš« Masquer]                                              â”‚
â”‚      â”‚                                                           â”‚
â”‚      â–¼                                                           â”‚
â”‚  PUT /api/admin/reviews/:id/visibility { isVisible: false }     â”‚
â”‚      â”‚                                                           â”‚
â”‚      â”œâ”€â”€ review.isVisible = false                               â”‚
â”‚      â”œâ”€â”€ Recalcul averageRating (sans cet avis)                 â”‚
â”‚      â””â”€â”€ Avis masquÃ© publiquement                               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Avis masquÃ©                                                  â”‚
â”‚                                                                  â”‚
â”‚  L'avis de "Anonyme" sur "Traiteur Fatou" a Ã©tÃ© masquÃ©.        â”‚
â”‚  La note moyenne a Ã©tÃ© recalculÃ©e.                              â”‚
â”‚                                                                  â”‚
â”‚  Ancienne moyenne: 4.2 â†’ Nouvelle moyenne: 4.5                  â”‚
â”‚                                                                  â”‚
â”‚  [Voir les autres avis Ã  modÃ©rer]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
